let u=void 0,types=["building","prop","tree","vehicle","trailer","?","sub-building","variation","citizen","net","elevation","pillar"],stats=["failed","available","missing","name changed"],gtype=t=>types[t[1]],gstat=t=>stats[t[2]],gitem=t=>t[5]>0?'<a target="_blank" href="https://steamcommunity.com/sharedfiles/filedetails/?id='+t[5]+'" tabIndex="-1">Workshop link</a>':"?",gdate=t=>t[3]>0?new Date(1048576*t[3]).toLocaleDateString():"?",gsize=t=>t[4]>0?t[4]:"?",guses=t=>t[2]<2?t[7].length:"?",gused=t=>u[t[0]].length,gtyst=t=>types[t[1]]+", "+stats[t[2]],gtysi=t=>types[t[1]]+(t[4]>0?", "+t[4]:""),gtyed=t=>types[t[1]]+", "+u[t[0]].length,gsted=t=>stats[t[2]]+", "+u[t[0]].length,bname=(t,e)=>t[0]-e[0],btype=(t,e)=>t[1]-e[1]||t[0]-e[0],bstat=(t,e)=>t[2]-e[2]||t[0]-e[0],bitem=(t,e)=>e[5]-t[5],bdate=(t,e)=>e[3]-t[3],bsize=(t,e)=>e[4]-t[4],buses=(t,e)=>{let s=t[2]<2?t[7].length:-1;return(e[2]<2?e[7].length:-1)-s||t[0]-e[0]},bused=(t,e)=>u[e[0]].length-u[t[0]].length||t[0]-e[0],btyst=(t,e)=>t[1]-e[1]||t[2]-e[2]||t[0]-e[0],btysi=(t,e)=>t[1]-e[1]||e[4]-t[4],btyed=(t,e)=>t[1]-e[1]||u[e[0]].length-u[t[0]].length||t[0]-e[0],bsted=(t,e)=>t[2]-e[2]||u[e[0]].length-u[t[0]].length||t[0]-e[0],bf=[bname,btype,bstat,bitem,bdate,bsize,buses,bused,btyst,btysi,btyed,bsted],gf=[t=>"?",gtype,gstat,gitem,gdate,gsize,guses,gused,gtyst,gtysi,gtyed,gsted],cl=t=>'<div class="ce">'+t+"</div>",clitem=t=>{let e=t[5];return e>0?gitem(t):-1===e?"No link":-2===e?"Mod or DLC asset":3===t[2]?"Not on workshop":"Private asset"};function ini(){$("#sch").val(""),$("#sct").prop("selectedIndex",0);let t=$("#top");u=new Array(d.length).fill([],0,d.length);let e="";for(let t of d){if(t[7].length){let e=t[0];for(let s of t[7])u[s].length?u[s].push(e):u[s]=[e]}e+=btn(t)}t.append(e),$("#sct").change(srt),$("#sch").on("input",fil),$("#sch").focus()}function btn(t,e="?"){let s="?"===e?t[6]:t[6]+" <span>["+e+"]</span>",l=t[2],n=1===l?"av":0===l?"fa":"mi";return'<div data-i="'+t[0]+'"><div class="tg '+n+'" onclick="tgl(this,event)" tabIndex="-1">'+s+"</div></div>"}function fil(){let t=$("#sch").val().toLowerCase();t?$("#top > div").each(function(){let e=$(this);e.toggle(e.children().first().text().toLowerCase().indexOf(t)>-1)}):$("#top > div").show()}function srt(){let t=$("#sct").prop("selectedIndex"),e=d.slice().sort(bf[t]),s=gf[t],l=$("#top");l.empty();let n="";for(let t of e)n+=btn(t,s(t));l.append(n),$("#sch").val()&&fil()}function tgl(t,e){if($(e.target).is("a"))return;let s=$(window).scrollTop(),l=$(t),n=l.next();if(l.toggleClass("ex"),n.length)n.toggle(96);else{let t=l.parent(),e=Number(t.attr("data-i")),s=d[e],n=$('<div class="ro"></div>').append(cl("Type: "+gtype(s))).append(cl("Status: "+gstat(s))).append(cl(clitem(s))).append(cl("Date: "+gdate(s))).append(cl("Size: "+gsize(s)+" KB")),i=$('<div class="cc"></div>').append(n);if(s[7].length+u[e].length){let t=$('<div class="gr"></div>');if(s[7].length){t.append($("<p><b>"+s[6]+"</b> uses these assets:</p>"));for(let e of s[7])t.append(btn(d[e]))}if(u[e].length){t.append($("<p>These assets use <b>"+s[6]+"</b>:</p>"));for(let s of u[e])t.append(btn(d[s]))}i.append(t)}t.append(i)}$(window).scrollTop(s)}